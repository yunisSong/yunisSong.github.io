I"A<h1 id="linux基础">Linux基础</h1>
<h4 id="shell-命令">shell 命令</h4>

<ul>
  <li><code class="language-plaintext highlighter-rouge">IFS=$'\n'</code> 修改默认的分割方式</li>
  <li><code class="language-plaintext highlighter-rouge">ls</code> 显示当前路径下的文件</li>
  <li><code class="language-plaintext highlighter-rouge">cd</code> 进入某级目录</li>
  <li><code class="language-plaintext highlighter-rouge">clear</code> 清屏</li>
  <li><code class="language-plaintext highlighter-rouge">touch</code> 创建文件</li>
  <li><code class="language-plaintext highlighter-rouge">mkdir</code> 创建文件夹</li>
  <li><code class="language-plaintext highlighter-rouge">pwd</code> 显示当前路径</li>
  <li><code class="language-plaintext highlighter-rouge">cat</code> 查看文本内容</li>
  <li><code class="language-plaintext highlighter-rouge">history</code> 之前执行的命令</li>
  <li><code class="language-plaintext highlighter-rouge">rm</code> 删除</li>
  <li><code class="language-plaintext highlighter-rouge">ls &gt;1.txt</code>  显示的文件存储到1.txt 文件</li>
  <li><code class="language-plaintext highlighter-rouge">cat 1.txt &gt;2.txt</code> 查看 1.txt 内容 并存储到 2.txt 并覆盖原内容 ，如果2.txt 文件不存在，先创建文件，再存储内容。</li>
  <li><code class="language-plaintext highlighter-rouge">cat 1.txt &gt;&gt;2.txt</code> 两个 » 代表在原内容的基础上追加内容</li>
  <li><code class="language-plaintext highlighter-rouge">wc -w yunis.txt</code> 统计 yunis.txt 的文字数</li>
  <li><code class="language-plaintext highlighter-rouge">more</code> 分页查看大文件 按键 q 退出</li>
  <li><code class="language-plaintext highlighter-rouge">ls; ls -a</code> 可以用 ; 执行两条命令</li>
  <li><code class="language-plaintext highlighter-rouge">|</code>  管道：一个命令的输出可以通过管道做为另一个命令的输入。</li>
  <li><code class="language-plaintext highlighter-rouge">cd -</code> 回到上次用户所处在的路径</li>
  <li><code class="language-plaintext highlighter-rouge">cd ~</code> 回到根目录</li>
  <li><code class="language-plaintext highlighter-rouge">mv 1.txt 11.txt</code> 重命名 1.txt 为 11.txt</li>
  <li><code class="language-plaintext highlighter-rouge">mv 1.txt ../11.txt</code> 移动1.txt 到上层目录并重命名为11.txt</li>
  <li><code class="language-plaintext highlighter-rouge">cp 2.txt ../</code> copy 2.txt 一份到上层目录</li>
  <li><code class="language-plaintext highlighter-rouge">ln -s 11.txt 100.txt</code> 为 11.txt 创建 100.txt 的快捷方式</li>
  <li><code class="language-plaintext highlighter-rouge">ln 11.txt 100.txt</code> 相当于复制了一份相同的内容</li>
  <li><code class="language-plaintext highlighter-rouge">grep -n '^a' 1.txt</code>   搜寻以a开头的行</li>
  <li><code class="language-plaintext highlighter-rouge">grep -n 'a$' 1.txt</code>   搜寻以a结尾的行</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -name "^SY*.m"</code> 查找当前目录下名字为 <code class="language-plaintext highlighter-rouge">SY</code> 开头的 <code class="language-plaintext highlighter-rouge">.m</code> 结尾的文件。</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -name test.sh</code> 查找当前目录下所有名为test.sh的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -name '*.sh'	</code>	 查找当前目录下所有后缀为.sh的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -name "[A-Z]*"	</code> 查找当前目录下所有以大写字母开头的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find /tmp -size 2M	</code> 查找在/tmp 目录下等于2M的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find /tmp -size +2M	</code>查找在/tmp 目录下大于2M的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find /tmp -size -2M	</code> 查找在/tmp 目录下小于2M的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -size +4k -size -5M</code> 查找当前目录下大于4k，小于5M的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find ./ -perm 0777	</code>  查找当前目录下权限为 777 的文件或目录</li>
  <li><code class="language-plaintext highlighter-rouge">cat file | tr -d "\n"</code>   把文件内容变成 一行</li>
  <li><code class="language-plaintext highlighter-rouge">printf "%50s\n"|tr ' ' -</code> 打印50个<code class="language-plaintext highlighter-rouge">-</code></li>
  <li><code class="language-plaintext highlighter-rouge">ls | wc -l</code> 统计文件夹下所有的文件数</li>
  <li><code class="language-plaintext highlighter-rouge">find . -iname '*.jpg' | sed 's/.*/&lt;img src="&amp;"&gt;/' &gt; gallery.html </code>生成html 相册</li>
  <li><code class="language-plaintext highlighter-rouge">find . -size 0 -print0 | xargs -0 rm </code> 清理空文件</li>
  <li><code class="language-plaintext highlighter-rouge">find . -type f -size -80k -print0|xargs -0 rm</code> 查找并删除小于指定大小的文件</li>
  <li><code class="language-plaintext highlighter-rouge">find . -type d -name .svn -delete</code>  递归删除.svn文件夹</li>
  <li><code class="language-plaintext highlighter-rouge">find ~/Music/iTunes/ -name *.mp3 -exec cp {} ~/Desktop/Music/  \; </code>将所有mp3都复制到一个目录 mac也可以用</li>
  <li><code class="language-plaintext highlighter-rouge">scp root@1.2.3.4:/root/shadowsocks_go_qr.png /Users/Yunis/Desktop</code> 远程拷贝文件到本地</li>
  <li><code class="language-plaintext highlighter-rouge">mkdir 0{5..9}{0..9};</code> 创建名称为 050 - 099 的文件夹。</li>
</ul>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>rm -rf `find . -type f -name *.htm` 递归删除所有的htm文件
</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">ssh UserName@192.168.XX.XX</code> 远程连接 <code class="language-plaintext highlighter-rouge">UserName</code>：用户名  <code class="language-plaintext highlighter-rouge">192.168.XX.XX</code> ip地址。</p>

<p><code class="language-plaintext highlighter-rouge">tail -f file1 (file2 .. fileN)</code> 将文件的内容拼接在一起显示。
<code class="language-plaintext highlighter-rouge">du -sh * | sort -nr</code> 统计文件夹大小并排序显示。
<code class="language-plaintext highlighter-rouge">find ./ -name '*.p12' -delete</code> 清理路径下 <code class="language-plaintext highlighter-rouge">.p12</code> 类型的文件</p>

<p>查找目录下特定名称的文件夹，并将文件夹下的文件移动到响应名称的文件夹下。</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>#! /bin/zsh
# 在当前目录下查找名称为 Images 的文件夹
# 读作变量 f
find . -type d  -name Images | while read f; do
    # 取出上一个文件夹的名称
    resFile=`echo $f | awk -F "/" '{print $4}'`
    echo $resFile
    # 创建相应的文件夹
    mkdir -p ./123/$resFile
    #拷贝 f 文件夹下的所有文件 到新创建的文件夹
    cp  $f/* ./123/$resFile/
done
</code></pre></div></div>

<p>当前文件夹下的文件统一加入前缀 head_</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do mv -f  $File  `echo "head_"$File`; done
</code></pre></div></div>

<p>当前文件夹下的文件统一把后五位字符修改为 lllll</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do mv -f $File `echo $File | sed 's/.....$/lllll/'`; done
</code></pre></div></div>

<p>当前文件夹下的文件统一把前五位字符修改为 abc</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do mv -f $File `echo $File | sed 's/^...../abc/'`; done
</code></pre></div></div>

<p>当前文件夹下的文件所有的小写字母变大写字母</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do mv -f $File `echo $File | tr a-z A-Z`; done
</code></pre></div></div>

<p>当前文件夹下的文件所有的大写字母变小写字母</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do mv -f $File `echo $File | tr A-Z a-z `; done
</code></pre></div></div>

<p>当前文件夹下的文件进行删除操作</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>for File in `ls`; do rm -rf  $File ; done
</code></pre></div></div>

<h4 id="linux-文件权限">Linux 文件权限</h4>
<p><img src="/media/15126318765585/Linux用户权限.png" alt="" /></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">r</code> ：可读</li>
  <li><code class="language-plaintext highlighter-rouge">w</code> ：可写</li>
  <li><code class="language-plaintext highlighter-rouge">x</code> ：可执行
    <h5 id="更改文件权限">更改文件权限</h5>
  </li>
  <li>u 文件的拥有者</li>
  <li>g 文件的用户组</li>
  <li>
    <p>o 其他</p>
  </li>
  <li>
    <p>` chmod u=rwx 1.txt` 修改用户的权限
<img src="/media/15126318765585/修改文件权限.png" alt="" /></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">chmod g=rw- 1.txt</code> 修改用户用户组的权限
<img src="/media/15126318765585/修改文件用户组权限.png" alt="" /></p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">chmod o=rw- 1.txt</code> 修改其他用户的权限</p>
  </li>
  <li>同时修改 用户、用户组、其他用户的权限：
    <ul>
      <li><code class="language-plaintext highlighter-rouge">chmod o=r,g=r,o=r 1.txt</code> 用户、用户组、其他用户的权限均为可读的权限</li>
      <li><code class="language-plaintext highlighter-rouge">chmod o=,g=,o= 1.txt</code> 用户、用户组、其他用户的权限均没有任何权限</li>
    </ul>
  </li>
</ul>

<p>使用数字法修改权限：</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>r --------- 4
w --------- 2
x --------- 1

</code></pre></div></div>

<p>所以</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>* 数字 1，代表可执行
* 数字 2，带包可写
* 数字 4，代表可读
* 数字 5，代表可读、可执行
* 数字 6，代表可读、可写
* 数字 7，代表可读、可写、可执行
</code></pre></div></div>

<p><img src="/media/15126318765585/数字法修改用户权限.png" alt="" /></p>

<p><code class="language-plaintext highlighter-rouge">chmod 777 1.txt</code> 的意思就是把 <code class="language-plaintext highlighter-rouge">1.txt</code> 这个文件修改为</p>

<ul>
  <li>拥有文件的用户 <code class="language-plaintext highlighter-rouge">可读</code>、<code class="language-plaintext highlighter-rouge">可写</code>、<code class="language-plaintext highlighter-rouge">可执行</code></li>
  <li>文件所属的组 <code class="language-plaintext highlighter-rouge">可读</code>、<code class="language-plaintext highlighter-rouge">可写</code>、<code class="language-plaintext highlighter-rouge">可执行</code></li>
  <li>其他用户 <code class="language-plaintext highlighter-rouge">可读</code>、<code class="language-plaintext highlighter-rouge">可写</code>、<code class="language-plaintext highlighter-rouge">可执行</code></li>
</ul>

<p>同理 <code class="language-plaintext highlighter-rouge">chmod 644  1.txt</code>的意思是把 <code class="language-plaintext highlighter-rouge">1.txt</code> 这个文件修改为</p>

<ul>
  <li>拥有文件的用户 <code class="language-plaintext highlighter-rouge">可读</code>、<code class="language-plaintext highlighter-rouge">可写</code></li>
  <li>文件所属的组 <code class="language-plaintext highlighter-rouge">可读</code></li>
  <li>其他用户 <code class="language-plaintext highlighter-rouge">可读</code></li>
</ul>

<h3 id="vim-命令">vim 命令</h3>

<p><img src="/media/15126318765585/201607-vim-keymap.png" alt="" /></p>

<h4 id="进入插入模式">进入插入模式:</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>i: 插入光标前一个字符 

I: 插入行首 

a: 插入光标后一个字符 

A: 插入行未 

o: 向下新开一行,插入行首 

O: 向上新开一行,插入行首
</code></pre></div></div>

<h4 id="进入命令模式">进入命令模式:</h4>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ESC:从插入模式或末行模式进入命令模式
</code></pre></div></div>

<h5 id="移动光标">移动光标:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>h: 左移 

j: 下移 

k: 上移 

l: 右移

M: 光标移动到中间行 

L: 光标移动到屏幕最后一行行首 

G: 移动到指定行,行号 -G

w: 向后一次移动一个字 

b: 向前一次移动一个字

{: 按段移动,上移 

}: 按段移动,下移

Ctr-d: 向下翻半屏 

Ctr-u: 向上翻半屏

Ctr-f: 向下翻一屏 

Ctr-b: 向上翻一屏

gg: 光标移动文件开头 

G: 光标移动到文件末尾
</code></pre></div></div>

<h5 id="删除命令">删除命令:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>x: 删除光标后一个字符,相当于 Del 

X: 删除光标前一个字符,相当于 Backspace

dd: 删除光标所在行,n dd 删除指定的行数 D: 删除光标后本行所有内容,包含光标所在字符 

d0: 删除光标前本行所有内容,不包含光标所在字符

dw: 删除光标开始位置的字,包含光标所在字符
</code></pre></div></div>

<h5 id="撤销命令">撤销命令:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>u: 一步一步撤销 


Ctr-r: 反撤销
</code></pre></div></div>

<h5 id="重复命令">重复命令:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>.: 重复上一次操作的命令
</code></pre></div></div>

<h5 id="文本行移动">文本行移动:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt;&gt;: 文本行右移 

&lt;&lt;: 文本行左移
</code></pre></div></div>

<h5 id="复制粘贴">复制粘贴:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>yy: 复制当前行,n yy 复制 n 行 

p: 在光标所在位置向下新开辟一行,粘贴
</code></pre></div></div>

<h5 id="可视模式">可视模式:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>v: 按字符移动,选中文本 

V: 按行移动,选中文本可视模式可以配合 d, y, &gt;&gt;, &lt;&lt; 实现对文本块的删除,复制,左右移动
</code></pre></div></div>

<h5 id="替换操作">替换操作:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>r: 替换当前字符 

R: 替换当前行光标后的字符
</code></pre></div></div>

<h5 id="查找命令">查找命令:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>/: str查找
n: 下一个
N：上一个
</code></pre></div></div>

<h5 id="替换命令">替换命令：</h5>

<blockquote>
  <p>把abc全部替换成123</p>
</blockquote>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>末行模式下，将光标所在行的abc替换成123
:%s/abc/123/g

末行模式下，将第一行至第10行之间的abc替换成123
:1, 10s/abc/123/g
</code></pre></div></div>

<h5 id="vim里执行-shell-下命令">vim里执行 shell 下命令:</h5>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>末行模式里输入!,后面跟命令

</code></pre></div></div>

:ET