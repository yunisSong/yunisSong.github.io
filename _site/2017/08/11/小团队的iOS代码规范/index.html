<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="潜心修行中。">
    <meta name="keywords"  content="iOS，Python，swift 初学者">
    <meta name="theme-color" content="#000000">
    
    <title>小团队的iOS代码规范 - 三十一的博客 | Yunis Blog</title>

    <!-- Web App Manifest -->
    <link rel="manifest" href="/pwa/manifest.json">

    <!-- Favicon -->
    <link rel="shortcut icon" href="/img/favicon.ico">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="http://localhost:4000/2017/08/11/%E5%B0%8F%E5%9B%A2%E9%98%9F%E7%9A%84iOS%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">三十一</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About</a>
                    </li>
                    
                    <li>
                        <a href="/portfolio/">Portfolio</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- Image to hack wechat -->
<!-- <img src="/img/icon_wechat.png" width="0" height="0"> -->
<!-- <img src="/img/post-bg-nextgen-web-pwa.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/post-bg-nextgen-web-pwa.jpg')
    }

    
    header.intro-header .header-mask{
        width: 100%;
        height: 100%;
        position: absolute;
        background: rgba(0,0,0, 0.3);
    }
    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                    </div>
                    <h1>小团队的iOS代码规范</h1>
                    
                    
                    <h2 class="subheading">在不断填坑中前进。。</h2>
                    
                    <span class="meta">Posted by 三十一 on August 11, 2017</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<p>[TOC]</p>
<h1 id="小团队的ios代码规范">小团队的iOS代码规范</h1>

<p>本文摘抄自<a font="24px"><a href="https://knightsj.github.io/2017/06/14/iOS%20%E4%BB%A3%E7%A0%81%E8%A7%84%E8%8C%83/#more">iOS 代码规范</a></a>，稍加修改。</p>

<h2 id="1-核心原则">1 核心原则</h2>
<h3 id="11-代码应该简洁易懂逻辑清晰">1.1 代码应该简洁易懂，逻辑清晰</h3>
<p>因为软件是需要人来维护的。这个人在未来很可能不是你。所以首先是为人编写程序，其次才是计算机：</p>

<ul>
  <li>不要过分追求技巧，降低程序的可读性。</li>
  <li>简洁的代码可以让bug无处藏身。要写出明显没有bug的代码，而不是没有明显bug的代码。</li>
</ul>

<h3 id="12-编程时首先达到正确性其次考虑效率">1.2 编程时首先达到正确性，其次考虑效率</h3>
<p>在正确可用的代码写出之前就过度地考虑扩展，重用的问题，使得工程过度复杂。</p>

<ol>
  <li>先把眼前的问题解决掉，解决好，再考虑将来的扩展问题。</li>
  <li>先写出可用的代码，反复推敲，再考虑是否需要重用的问题。</li>
  <li>先写出可用，简单，明显没有bug的代码，再考虑测试的问题。</li>
</ol>

<h3 id="13-面向变化编程而不是面向需求编程">1.3 面向变化编程，而不是面向需求编程</h3>

<p><strong>不要相信产品说的话，要时刻做好需求会改的准备。</strong>
<strong>不要相信产品说的话，要时刻做好需求会改的准备。</strong>
<strong>不要相信产品说的话，要时刻做好需求会改的准备。</strong></p>

<p>每次迭代不能仅仅为了当前的需求，写出扩展性强，易修改的程序才是负责任的做法，对自己负责，对公司负责。</p>
<h2 id="2-具体规范">2 具体规范</h2>
<h3 id="21-变量属性">2.1 变量、属性</h3>
<h6 id="211-命名必须使用驼峰格式">2.1.1 命名必须使用驼峰格式</h6>
<p>类，协议使用大驼峰</p>

<div class="highlighter-rouge"><pre class="highlight"><code>HomePageViewController.h
&lt;HeaderViewDelegate&gt;
</code></pre>
</div>
<p>对象等局部变量使用小驼峰：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *personName = @"";
NSUInteger totalCount = 0;
</code></pre>
</div>

<h4 id="212-变量的名称必须同时包含功能与类型">2.1.2 变量的名称必须同时包含功能与类型</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>UIButton *addBtn //添加按钮
UILabel *nameLbl //名字标签
NSString *addressStr//地址字符串
</code></pre>
</div>

<h4 id="213-系统常用类作实例变量声明时加入后缀">2.1.3 系统常用类作实例变量声明时加入后缀</h4>

<table>
  <thead>
    <tr>
      <th>类型</th>
      <th>后缀</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>UIViewController</td>
      <td>VC</td>
    </tr>
    <tr>
      <td>UIView</td>
      <td>View</td>
    </tr>
    <tr>
      <td>UILabel</td>
      <td>Lbl</td>
    </tr>
    <tr>
      <td>UIButton</td>
      <td>Btn</td>
    </tr>
    <tr>
      <td>UIImage</td>
      <td>Img</td>
    </tr>
    <tr>
      <td>UIImageView</td>
      <td>ImagView</td>
    </tr>
    <tr>
      <td>NSArray</td>
      <td>Array</td>
    </tr>
    <tr>
      <td>NSMutableArray</td>
      <td>Marray</td>
    </tr>
    <tr>
      <td>NSDictionary</td>
      <td>Dict</td>
    </tr>
    <tr>
      <td>NSMutableDictionary</td>
      <td>Mdict</td>
    </tr>
    <tr>
      <td>NSString</td>
      <td>Str</td>
    </tr>
    <tr>
      <td>NSMutableString</td>
      <td>MStr</td>
    </tr>
    <tr>
      <td>NSSet</td>
      <td>Set</td>
    </tr>
    <tr>
      <td>NSMutableSet</td>
      <td>Mset</td>
    </tr>
  </tbody>
</table>

<h4 id="213-下划线不应出现在局部变量">2.1.3 下划线不应出现在局部变量</h4>
<p>推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSDictionary *notificationInfo;
</code></pre>
</div>

<p>不推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSDictionary *_notificationInfo;
</code></pre>
</div>

<h4 id="214-定义指针类型的变量">2.1.4 定义指针类型的变量</h4>
<p>定义指针类型的变量时,<code class="highlighter-rouge">*</code>放在变量前，与类型保持一个空格。
推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSDictionary *notificationInfo;
</code></pre>
</div>

<p>不推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSDictionary*notificationInfo;
NSDictionary* notificationInfo;
NSDictionary * notificationInfo;
</code></pre>
</div>

<h4 id="215-不要出现仅依靠大小写区分的命名">2.1.5 不要出现仅依靠大小写区分的命名</h4>
<p>程序中不要出现仅靠大小区分的相似的标识符。
不推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSDictionary *notificationInfo;
NSDictionary *NotificationInfo;
</code></pre>
</div>

<h4 id="216-私有属性应放到匿名分类中">2.1.6 私有属性应放到匿名分类中</h4>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">@interface</span> <span class="nc">RWTDetailViewController</span> <span class="p">()</span>  
<span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">GADBannerView</span> <span class="o">*</span><span class="n">googleAdView</span><span class="p">;</span>  
<span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">ADBannerView</span> <span class="o">*</span><span class="n">iAdView</span><span class="p">;</span>  
<span class="k">@property</span> <span class="p">(</span><span class="n">strong</span><span class="p">,</span> <span class="n">nonatomic</span><span class="p">)</span> <span class="n">UIWebView</span> <span class="o">*</span><span class="n">adXWebView</span><span class="p">;</span>  
<span class="k">@end</span>
</code></pre>
</div>

<h4 id="217-形容词性的bool属性的getter应该加上is前缀">2.1.7 形容词性的BOOL属性的getter应该加上is前缀</h4>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="k">@property</span> <span class="p">(</span><span class="n">assign</span><span class="p">,</span> <span class="n">getter</span><span class="o">=</span><span class="n">isEditable</span><span class="p">)</span> <span class="n">BOOL</span> <span class="n">editable</span><span class="p">;</span>
</code></pre>
</div>

<h4 id="218-使用getter方法做懒加载">2.1.8 使用getter方法做懒加载</h4>

<p>实例化一个对象是需要耗费资源的，如果这个对象里的某个属性的实例化要调用很多配置和计算，就需要懒加载它，在使用它的前一刻对它进行实例化：</p>

<div class="highlighter-rouge"><pre class="highlight"><code><span class="c1">//推荐这样写
</span><span class="k">@property</span><span class="p">(</span><span class="n">nonatomic</span><span class="p">,</span><span class="n">strong</span><span class="p">)</span><span class="n">UIView</span> <span class="o">*</span><span class="n">demoView</span><span class="p">;</span>

<span class="k">-</span> <span class="p">(</span><span class="n">UIView</span> <span class="o">*</span><span class="p">)</span><span class="n">demoView</span><span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">_demoView</span> <span class="o">==</span> <span class="nb">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">_demoView</span> <span class="o">=</span> <span class="p">({</span>
            <span class="n">UIView</span> <span class="o">*</span><span class="n">view</span> <span class="o">=</span> <span class="p">[[</span><span class="n">UIView</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithFrame</span><span class="p">:</span><span class="n">self</span><span class="p">.</span><span class="n">view</span><span class="p">.</span><span class="n">bounds</span><span class="p">];</span>
            <span class="n">view</span><span class="p">.</span><span class="n">backgroundColor</span> <span class="o">=</span> <span class="p">[</span><span class="n">UIColor</span> <span class="nf">redColor</span><span class="p">];</span>
            <span class="n">view</span><span class="p">.</span><span class="n">alpha</span> <span class="o">=</span> <span class="mi">0</span><span class="p">.</span><span class="mi">8</span><span class="n">f</span><span class="p">;</span>
            <span class="n">view</span><span class="p">;</span>
        <span class="p">});</span>
    <span class="p">}</span>
    
    <span class="k">return</span> <span class="n">_demoView</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>但是也有对这种做法的争议，但是整体利大于弊，推荐使用。</p>

<h4 id="219-除了-init-和-dealloc-方法建议都使用点语法访问属性">2.1.9 除了 <code class="highlighter-rouge">init</code> 和 <code class="highlighter-rouge">dealloc</code> 方法，建议都使用点语法访问属性</h4>

<p>使用点语法的好处：
<code class="highlighter-rouge">setter</code>：</p>

<ol>
  <li><code class="highlighter-rouge">setter</code> 会遵守内存管理语义(<code class="highlighter-rouge">strong</code>, <code class="highlighter-rouge">copy</code>, <code class="highlighter-rouge">weak</code>)。</li>
  <li>通过在内部设置断点，有助于调试bug。</li>
  <li>可以过滤一些外部传入的值。</li>
  <li>捕捉 <code class="highlighter-rouge">KVO</code> 通知。</li>
</ol>

<p><code class="highlighter-rouge">getter</code>：</p>

<ol>
  <li>允许子类化。</li>
  <li>通过在内部设置断点，有助于调试bug。</li>
  <li>实现懒加载（<code class="highlighter-rouge">lazy initialization</code>）。</li>
</ol>

<p><strong>注意：</strong></p>

<ul>
  <li>懒加载的属性，必须通过点语法来读取数据。因为懒加载是通过重写 <code class="highlighter-rouge">getter</code> 方法来初始化实例变量的，如果不通过属性来读取该实例变量，那么这个实例变量就永远不会被初始化。</li>
  <li>在 <code class="highlighter-rouge">init</code> 和 <code class="highlighter-rouge">dealloc</code> 方法里面使用点语法的后果是：因为没有绕过 <code class="highlighter-rouge">setter</code> 和 <code class="highlighter-rouge">getter</code> ，在 <code class="highlighter-rouge">setter</code> 和 <code class="highlighter-rouge">getter</code> 里面可能会有很多其他的操作。而且如果它的子类重载了它的 <code class="highlighter-rouge">setter</code> 和 <code class="highlighter-rouge">getter</code> 方法，那么就可能导致该子类调用其他的方法。</li>
</ul>

<h4 id="2110-属性声明严把权限">2.1.10 属性声明严把权限</h4>

<p>对不需要外部修改的属性使用 <code class="highlighter-rouge">readonly</code> 。</p>

<h4 id="2111-尽量使用不可变对象">2.1.11 尽量使用不可变对象</h4>
<p>建议尽量把对外公布出来的属性设置为只读，在实现文件内部设为读写。具体做法是：</p>

<ul>
  <li>在头文件中，设置对象属性为 <code class="highlighter-rouge">readonly</code></li>
  <li>在实现文件中设置为 <code class="highlighter-rouge">readwrite</code>。</li>
</ul>

<h3 id="22-函数">2.2 函数</h3>

<h4 id="221-函数保持单一性">2.2.1 函数保持单一性</h4>
<p>函数是为一特定功能而编写，不是万能工具箱，保持单一性，一个函数只做一件事情。</p>

<h4 id="222-函数名与形参不能留空格返回类型与函数标识符有一个空格">2.2.2 函数名与形参不能留空格，返回类型与函数标识符有一个空格</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someMethod:(id)parameter;
</code></pre>
</div>

<h4 id="223-如果参数过长则每个参数一行以冒号对齐">2.2.3 如果参数过长，则每个参数一行，以冒号对齐。</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someMethod:(id)parameter
        parameter1:(id)parameter1
        parameter2:(id)parameter2;
</code></pre>
</div>

<h4 id="224-如果函数名比参数名短则每个参数占用一行垂直对齐非冒号对齐">2.2.4 如果函数名比参数名短，则每个参数占用一行,垂直对齐（非冒号对齐）</h4>
<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someMethod:(id)parameter
        a:(id)parameter1
        b:(id)parameter2;
</code></pre>
</div>

<h4 id="225-函数名用小写字母开头的单词组合而成">2.2.5 函数名用小写字母开头的单词组合而成</h4>

<p>函数名力求清晰、明了、通过函数名就能够判断函数的主要功能。函数名中不同意义字段之间不要用下划线连接，而要把每个字段的首字母大写以示区分。</p>

<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (NSString *)descriptionWithLocale:(id)locale;
</code></pre>
</div>

<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (NSString *)DescriptionWithLocale:(id)locale;
- (NSString *)description_locale:(id)locale;
</code></pre>
</div>

<h4 id="226-避免函数有太多的参数参数个数尽量控制在5个以内">2.2.6 避免函数有太多的参数，参数个数尽量控制在5个以内</h4>
<p>如果参数的确比较多，考虑这些参数定义成一个结构（或一个类）。</p>

<h4 id="227-对输入参数的正确性和有效性进行检查">2.2.7 对输入参数的正确性和有效性进行检查</h4>
<p>很多程序错误和崩溃是由非法参数引起的。对外提供的函数接口，一定要检查输入参数。
对输入参数的正确性和有效性进行检查，参数错误立即返回。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>void function(param1,param2)
{
      if(param1 is unavailable) {
           return;
      }
    
      if(param2 is unavailable) {
           return;
      }
     //Do some right thing
}
</code></pre>
</div>

<h4 id="228-函数方法体的规模不能太大">2.2.8 函数（方法）体的规模不能太大</h4>
<p>函数（方法）体的规模不能太大，尽量控制在可以在一屏幕内显示。</p>

<h4 id="229-对于有返回值的函数方法每一个分支都必须有返回值">2.2.9 对于有返回值的函数（方法），每一个分支都必须有返回值</h4>

<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int function()
{
    if(condition1) {
        return count1
    }
    else if(condition2) {
        return count2
    }
    else {
       return defaultCount
    } 
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>int function()
{
    if(condition1) {
        return count1
    }
    else if(condition2) {
        return count2
    }
}
</code></pre>
</div>

<h4 id="2210-如果在不同的函数内部有相同的功能">2.2.10 如果在不同的函数内部有相同的功能</h4>
<p>如果在不同的函数内部有相同的功能，应该把相同的功能抽取出来单独作为另一个函数</p>

<h4 id="2211-方法名前缀">2.2.11 方法名前缀</h4>

<ul>
  <li>刷新视图的方法名要以 <code class="highlighter-rouge">refresh</code> 为首。</li>
  <li>更新数据的方法名要以 <code class="highlighter-rouge">update</code> 为首。</li>
</ul>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)refreshHeaderViewWithCount:(NSUInteger)count;

- (void)updateDataSourceWithViewModel:(ViewModel *)viewModel;
</code></pre>
</div>

<h4 id="2212-函数之间保留一个空行">2.2.12 函数之间保留一个空行</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)refreshHeaderViewWithCount:(NSUInteger)count;

- (void)updateDataSourceWithViewModel:(ViewModel *)viewModel;

- (void)refreshHeaderViewWithCount:(NSUInteger)count
{
}

- (void)updateDataSourceWithViewModel:(ViewModel *)viewModel
{
}
</code></pre>
</div>

<h4 id="2213-初始化方法">2.2.13 初始化方法</h4>
<p>初始化方法返回类型必须是 <code class="highlighter-rouge">instancetype</code> ，不能是 <code class="highlighter-rouge">id</code>。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (instancetype)init { 
    self = [super init]; // call the designated initializer 
    if (self) { 
        // Custom initialization 
    } 
    return self; 
}
</code></pre>
</div>
<h3 id="23-if-语句">2.3 <code class="highlighter-rouge">if</code> 语句</h3>

<h4 id="231-必须列出所有分支穷举所有的情况而且每个分支都必须给出明确的结果">2.3.1 必须列出所有分支（穷举所有的情况），而且每个分支都必须给出明确的结果</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var hintStr;
if (count &lt; 3) {
  hintStr = "Good";
} 
else {
  hintStr = "";
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>var hintStr;
if (count &lt; 3) {
 hintStr = "Good";
}
</code></pre>
</div>

<h4 id="232-不要使用过多的分支要善于使用-return-来提前返回错误的情况">2.3.2 不要使用过多的分支，要善于使用 <code class="highlighter-rouge">return</code> 来提前返回错误的情况</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someMethod { 
  if (!goodCondition) {
    return;
  }
  //Do something
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)someMethod { 
  if (goodCondition) {
    //Do something
  }
}
</code></pre>
</div>

<h4 id="233-条件表达式如果很长则需要将他们提取出来赋给一个-bool-值">2.3.3 条件表达式如果很长，则需要将他们提取出来赋给一个 <code class="highlighter-rouge">BOOL</code> 值</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>let nameContainsSwift = sessionName.hasPrefix("Swift")
let isCurrentYear = sessionDateCompontents.year == 2014
let isSwiftSession = nameContainsSwift &amp;&amp; isCurrentYear
if (isSwiftSession) { 
   // Do something
}
</code></pre>
</div>

<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ( sessionName.hasPrefix("Swift") &amp;&amp; (sessionDateCompontents.year == 2014) ) { 
    // Do something
}
</code></pre>
</div>

<h4 id="234-条件语句的判断应该是变量在左常量在右">2.3.4 条件语句的判断应该是变量在左，常量在右</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ( count == 6 ) {
}

if ( count == 6 ) {
}

if ( object == nil ) {
}

if ( !object ) {
}
</code></pre>
</div>

<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ( 6 == count ) {
}

if ( nil == object ) {
}
</code></pre>
</div>

<h4 id="235-每个分支的实现代码都必须被大括号包围">2.3.5 每个分支的实现代码都必须被大括号包围</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ( !error ) {
  return success;
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if ( !error )
    return success;

if ( !error ) return success;


</code></pre>
</div>

<h4 id="236--条件过多过长的时候应该换行">2.3.6  条件过多，过长的时候应该换行</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if (condition1() &amp;&amp; 
    condition2() &amp;&amp; 
    condition3() &amp;&amp; 
    condition4()) {
  // Do something
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>if (condition1() &amp;&amp; condition2() &amp;&amp; condition3() &amp;&amp; condition4()) {
  // Do something
}
</code></pre>
</div>
<h3 id="24-注释">2.4 注释</h3>
<p>推荐写注释，但不是必须的，有以下几种情况是必须写注释的：</p>

<ul>
  <li>公共接口（注释要告诉阅读代码的人，当前类能实现什么功能）。</li>
  <li>涉及到比较深层专业知识的代码（注释要体现出实现原理和思想）。</li>
  <li>容易产生歧义的代码（但是严格来说，容易让人产生歧义的代码是不允许存在的）。</li>
</ul>

<p><strong>每次修改代码后，要相应的修改注释。
每次修改代码后，要相应的修改注释。
每次修改代码后，要相应的修改注释。</strong></p>

<h3 id="25-运算符">2.5 运算符</h3>

<h4 id="251-一元运算符与变量之间没有空格">2.5.1 一元运算符与变量之间没有空格</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>!bValue
~iValue
++iCount
*strSource
&amp;fSum
</code></pre>
</div>

<h4 id="252-二元运算符与变量之间必须有空格">2.5.2 二元运算符与变量之间必须有空格</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>fWidth = 5 + 5;
fLength = fWidth * 2;
fHeight = fWidth + fLength;
for(int i = 0; i &lt; 10; i++)
</code></pre>
</div>

<h4 id="253-多个不同的运算符同时存在时应该使用括号来明确优先级">2.5.3 多个不同的运算符同时存在时应该使用括号来明确优先级</h4>

<p>在多个不同的运算符同时存在的时候应该合理使用括号，不要盲目依赖操作符优先级。
因为有的时候不能保证阅读你代码的人就一定能了解你写的算式里面所有操作符的优先级。</p>
<h3 id="26-switch-语句">2.6 <code class="highlighter-rouge">Switch</code> 语句</h3>

<h4 id="261-每个分支都必须用大括号括起来">2.6.1 每个分支都必须用大括号括起来</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>switch (integer) {  
  case 1:  {
    // ...  
    break;  
   }
  case 2: {  
    // ...  
    break;  
  }  
  case 3: {
    // ...  
    break; 
  }
  default:{
    // ...  
    break; 
  }
}
</code></pre>
</div>

<h4 id="262--使用枚举类型时不能有-default-分支-除了使用枚举类型以外都必须有-default-分支">2.6.2  使用枚举类型时，不能有 <code class="highlighter-rouge">default</code> 分支， 除了使用枚举类型以外，都必须有 <code class="highlighter-rouge">default</code> 分支</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>RWTLeftMenuTopItemType menuType = RWTLeftMenuTopItemMain;  
switch (menuType) {  
  case RWTLeftMenuTopItemMain: {
    // ...  
    break; 
   }
  case RWTLeftMenuTopItemShows: {
    // ...  
    break; 
  }
  case RWTLeftMenuTopItemSchedule: {
    // ...  
    break; 
  }
}
</code></pre>
</div>
<h3 id="27-单例模式">2.7 单例模式</h3>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>+ (instancetype)sharedInstance {
    static id sharedInstance = nil;
    static dispatch_once_t onceToken = 0;
    dispatch_once(&amp;onceToken, ^{
        sharedInstance = [[self alloc] init];
    });
    return sharedInstance;
}
</code></pre>
</div>
<p>不推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>+ (instancetype)sharedInstance {
    static id sharedInstance;
    @synchronized(self) {
        if (sharedInstance == nil) {
            sharedInstance = [[MyClass alloc] init];
        } }
    return sharedInstance; 
}
</code></pre>
</div>
<h3 id="28-文件目录">2.8 文件目录</h3>
<p><code class="highlighter-rouge">Xcode</code> 工程文件的物理路径要和逻辑路径保持一致。</p>
<h3 id="29-字面量">2.9 字面量</h3>
<p>在编码中应多用字面量语法，少用与之等价的方法。</p>

<h4 id="291-声明时的字面量语法">2.9.1 声明时的字面量语法</h4>
<p>在声明 <code class="highlighter-rouge">NSNumber</code>，<code class="highlighter-rouge">NSArray</code>，<code class="highlighter-rouge">NSDictionary</code> 时，应该尽量使用简洁字面量语法。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSNumber *intNumber = @1;
NSNumber *floatNumber = @2.5f;
NSArray *animals = @[@"cat", @"dog",@"mouse", @"badger"];
Dictionary *dict = @{@"animal":@"tiger",@"phone":@"iPhone 6"};

</code></pre>
</div>

<h4 id="292-集合类取下标的字面量语法">2.9.2 集合类取下标的字面量语法</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>NSString *cat = animals[0];
NSString *iphone = dict[@"phone"];
</code></pre>
</div>
<h3 id="210-nsarray-和-nsdictionary">2.10 <code class="highlighter-rouge">NSArray</code> 和 <code class="highlighter-rouge">NSDictionary</code></h3>

<h4 id="2101-尽可能的使用字面量初始化">2.10.1 尽可能的使用字面量初始化</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>NSArray *animals = @[@"cat", @"dog",@"mouse", @"badger"];
Dictionary *dict = @{@"animal":@"tiger",@"phone":@"iPhone 6"};
</code></pre>
</div>

<h4 id="2102-使用泛型">2.10.2 使用泛型</h4>
<p>在定义 <code class="highlighter-rouge">NSArray</code> 和 <code class="highlighter-rouge">NSDictionary</code> 时使用泛型，可以保证程序的安全性，而且在使用 枚举块 函数时会自动识别 <strong>item</strong> 类型</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSArray &lt;NSString *&gt;*testArr = [NSArray arrayWithObjects:@"Hello", @"world", nil];
NSDictionary &lt;NSString *, NSNumber *&gt;*dic = @{@"key":@(1), @"age":@(10)};
</code></pre>
</div>

<h4 id="2103-判断边界">2.10.3 判断边界</h4>
<p>数组取下标的时候尽可能的判断是否越界。</p>

<h4 id="2104-取第一个元素或最后一个元素的时候使用系统提供的方法">2.10.4 取第一个元素或最后一个元素的时候使用系统提供的方法</h4>
<p>取第一个元素或最后一个元素的时候使用 <code class="highlighter-rouge">firtstObject</code> 和 <code class="highlighter-rouge">lastObject</code>。</p>

<h4 id="2105--非空判断">2.10.5  非空判断</h4>
<p><code class="highlighter-rouge">addObject</code> 之前要非空判断。</p>

<h4 id="2106-多用枚举块">2.10.6 多用枚举块</h4>
<p>当遍历集合元素时，建议使用块枚举，因为相对于传统的 <strong>for</strong> 循环，它更加高效，而且简洁,还能获取到用传统的 <strong>for</strong> 循环无法提供的值.</p>

<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>NSArray &lt;SYPushUserModel *&gt;*sourceArray = @[...];
[sourceArray enumerateObjectsUsingBlock:^(SYPushUserModel * obj, NSUInteger idx, BOOL * stop) {
            
}];

NSDictionary &lt;NSString *,SYPushUserModel *&gt;*sourceDic = @{...};
[sourceDic enumerateKeysAndObjectsUsingBlock:^(NSString * key, SYPushUserModel * obj, BOOL * stop) {
        
}];
</code></pre>
</div>
<h3 id="211-类">2.11 类</h3>

<h4 id="2111-类的布局">2.11.1 类的布局</h4>
<p>推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>#pragma mark - Life Cycle
- (instancetype)init;

- (void)viewDidLoad;

- (void)viewWillAppear:(BOOL)animated;

- (void)viewDidAppear:(BOOL)animated;

- (void)dealloc

#pragma mark - Intial Methods
//初始化数据
- (void)assignDate

- (void)settingAppearance

- (void)loadSubViews

#pragma mark - Target Methods
//点击事件或通知事件

#pragma mark - Network Methods
//网络请求

#pragma mark - Public Method
//外部方法

#pragma mark - Private Method
//本类方法

#pragma mark - Delegate
//代理方法

#pragma mark - Lazy Loads
//懒加载 Getter方法

#pragma mark - set
//Setter方法
</code></pre>
</div>

<h4 id="2112-在类声明中包含多个-protocol">2.11.2 在类声明中包含多个 <code class="highlighter-rouge">Protocol</code></h4>
<p>如果在类声明中包含多个 <code class="highlighter-rouge">Protocol</code>，每个 <code class="highlighter-rouge">Protocol</code> 占用一行，与第一个对齐，保持清晰易读。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@interface SYNotificationTool : NSObject&lt;UNUserNotificationCenterDelegate,
                                         UITableViewDelegate,
                                         UITableViewDataSource,
                                         UITabBarControllerDelegate,
                                         UIContentSizeCategoryAdjusting&gt;
</code></pre>
</div>

<p>如果第一行显示不完全，推荐</p>

<div class="highlighter-rouge"><pre class="highlight"><code>@interface SYOpenMessageListNotificationTool : NSObject
&lt;
UNUserNotificationCenterDelegate,
UITableViewDelegate,
UITableViewDataSource,
UITabBarControllerDelegate,
UIContentSizeCategoryAdjusting
&gt;
</code></pre>
</div>

<h4 id="2113-把类的实现代码分散到便于管理的多个分类中">2.11.3 把类的实现代码分散到便于管理的多个分类中</h4>
<p>一个类可能会有很多公共方法，而且这些方法往往可以用某种特有的逻辑来分组。我们可以利用 <strong>Objecctive-C</strong> 的分类机制，将类的这些方法按一定的逻辑划入几个分区中。使得代码逻辑清晰，便于维护。</p>

<h3 id="212-枚举">2.12 枚举</h3>
<p>要多使用 <code class="highlighter-rouge">NS_ENUM</code>,尽量少使用 C 语言风格的<code class="highlighter-rouge">enum</code></p>

<h4 id="2121-用枚举表示状态选项状态码">2.12.1 用枚举表示状态，选项，状态码</h4>
<p>推荐使用用枚举表示状态，选项，状态码。</p>

<div class="highlighter-rouge"><pre class="highlight"><code>typedef NS_ENUM(NSUInteger, EOCConnectionState) {
  EOCConnectionStateDisconnected,
  EOCConnectionStateConnecting,
  EOCConnectionStateConnected,
};
</code></pre>
</div>

<h4 id="2122-使用枚举类型时不能有-default-分支">2.12.2 使用枚举类型时，不能有 <code class="highlighter-rouge">default</code> 分支</h4>
<p>在 <code class="highlighter-rouge">Switch</code> 语句使用枚举类型时，不能有 <code class="highlighter-rouge">default</code> 分支， 除了使用枚举类型以外，都必须有 <code class="highlighter-rouge">default</code> 分支
在 <code class="highlighter-rouge">Switch</code> 语句使用枚举类型的时候，如果使用了 <code class="highlighter-rouge">default</code> 分支，在将来就无法通过编译器来检查新增的枚举类型了。</p>

<h3 id="213-大括号该不该换行">2.13 大括号该不该换行</h3>
<p>仁者见仁，智者见智的问题。</p>

<p>程序的分界符 <strong>{</strong> 和 <strong>}</strong> 在 <strong>if</strong>、<strong>else</strong>、<strong>else if</strong>、<strong>for</strong>、<strong>while</strong>、<strong>do</strong>等语句时， <strong>{</strong> 前添加空格紧跟语句后，空格分割。在方法（函数）应独占一行并且位于同一列，同时与引用他们的语句对齐。 <strong>{}</strong> 之内的代码块使用缩进规则对齐。</p>

<p>推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>- (void)dealloc
{
    // Do Something
}

if (isUpdated) {
    // Do Something
}

if (user.isHappy) {
    //Do something
}
else {
    //Do something else
}
</code></pre>
</div>
<h3 id="214-常量">2.14 常量</h3>

<h4 id="2141-常量应该以相关类名作为前缀">2.14.1 常量应该以相关类名作为前缀</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>推荐：
static const NSTimeInterval ZOCSignInViewControllerFadeOutAnimationDuration = 0.4;
不推荐：
static const NSTimeInterval fadeOutTime = 0.4;
</code></pre>
</div>

<h4 id="2142-建议使用类型常量不建议使用-define-预处理命令">2.14.2 建议使用类型常量，不建议使用 <code class="highlighter-rouge">#define</code> 预处理命令</h4>
<p>首先比较一下这两种声明常量的区别：</p>

<ul>
  <li>预处理命令：简单的文本替换，不包括类型信息，并且可被任意修改。</li>
  <li>类型常量：包括类型信息，并且可以设置其使用范围，而且不可被修改。</li>
</ul>

<p>使用预处理虽然能达到替换文本的目的，但是本身还是有局限性的：</p>

<ul>
  <li>不具备类型信息。</li>
  <li>可以被任意修改。</li>
</ul>

<h4 id="2143-对外公开某个常量">2.14.3 对外公开某个常量</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>推荐：
//头文件
extern NSString *const ZOCCacheControllerDidClearCacheNotification;
//实现文件
static NSString * const ZOCCacheControllerDidClearCacheNotification = @"ZOCCacheControllerDidClearCacheNotification";
static const CGFloat ZOCImageThumbnailHeight = 50.0f;

不推荐：
#define CompanyName @"Apple Inc." 
#define magicNumber 42
</code></pre>
</div>
<h3 id="215-宏">2.15 宏</h3>

<h4 id="2151-宏常量名都要使用大写字母用下划线-_-分割单词">2.15.1 宏、常量名都要使用大写字母，用下划线 <code class="highlighter-rouge">_</code> 分割单词。</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>#define URL_GAIN_QUOTE_LIST @"/v1/quote/list"
#define URL_UPDATE_QUOTE_LIST @"/v1/quote/update"
#define URL_LOGIN  @"/v1/user/login”
</code></pre>
</div>

<h4 id="2152-宏定义中如果包含表达式或变量表达式和变量必须用小括号括起来">2.15.2 宏定义中如果包含表达式或变量，表达式和变量必须用小括号括起来。</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>#define MY_MIN(A, B)  ((A)&gt;(B)?(B):(A))
</code></pre>
</div>
<h3 id="216-其他">2.16 其他</h3>

<h4 id="2161-小括号内联复合表达式">2.16.1 小括号内联复合表达式</h4>
<p><em>A compound statement enclosed in parentheses</em>。推荐使用，形式如下：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>RETURN_VALUE_RECEIVER = {(
    // Do whatever you want
    RETURN_VALUE; // 返回值
)};
</code></pre>
</div>

<p>初始化时推荐使用，有点像<strong>block</strong>和内联函数的结合体，它最大的意义在于将代码整理分块，将同一个逻辑层级的代码包在一起；逻辑清晰，也方便拷贝使用。
推荐：</p>

<div class="highlighter-rouge"><pre class="highlight"><code>UIView *backgroundView = ({
    UIView *view = [[UIView alloc] initWithFrame:self.view.bounds];
    view.backgroundColor = [UIColor redColor];
    view.alpha = 0.8f;
    view;
});
</code></pre>
</div>

<h4 id="2162-源代码中关系较为紧密的代码应尽可能相邻">2.16.2 源代码中关系较为紧密的代码应尽可能相邻</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>CGFloat fWidth;
CGFloat fLength;
CGFloat fHeight;
</code></pre>
</div>

<h4 id="2163-相关的赋值语句等号对齐">2.16.3 相关的赋值语句等号对齐</h4>

<div class="highlighter-rouge"><pre class="highlight"><code>promotionsEntity.promotionImageStr   = activityItemDict[@"promotion_image"];
promotionsEntity.promotionIdNum      = activityItemDict[@"promotion_id"];
promotionsEntity.promotionNameStr    = activityItemDict[@"promotion_name"];
promotionsEntity.promotionColorStr   = activityItemDict[@"promotion_color"];
</code></pre>
</div>



                <hr style="visibility: hidden;">

                


                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2017/08/07/%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BF%85%E7%9F%A5%E5%BF%85%E4%BC%9A/" data-toggle="tooltip" data-placement="top" title="正则表达式必知必会">
                        Previous<br>
                        <span>正则表达式必知必会</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2017/08/17/Shell-sed-%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/" data-toggle="tooltip" data-placement="top" title="Shell sed 的简单使用">
                        Next<br>
                        <span>Shell sed 的简单使用</span>
                        </a>
                    </li>
                    
                </ul>


                

                

            </div>  

    <!-- Side Catalog Container -->
        
            <div class="
                col-lg-2 col-lg-offset-0
                visible-lg-block
                sidebar-container
                catalog-container">
                <div class="side-catalog">
                    <hr class="hidden-sm hidden-xs">
                    <h5>
                        <a class="catalog-toggle" href="#">CATALOG</a>
                    </h5>
                    <ul class="catalog-body"></ul>
                </div>
            </div>
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#Swift" title="Swift" rel="12">
                                    Swift
                                </a>
                            
        				
                            
                				<a href="/tags/#Shell" title="Shell" rel="3">
                                    Shell
                                </a>
                            
        				
                            
                				<a href="/tags/#iOS" title="iOS" rel="17">
                                    iOS
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
                				<a href="/tags/#转载" title="转载" rel="2">
                                    转载
                                </a>
                            
        				
                            
                				<a href="/tags/#GCD" title="GCD" rel="2">
                                    GCD
                                </a>
                            
        				
                            
        				
                            
                				<a href="/tags/#轮子" title="轮子" rel="2">
                                    轮子
                                </a>
                            
        				
                            
        				
                            
                				<a href="/tags/#JavaScript" title="JavaScript" rel="6">
                                    JavaScript
                                </a>
                            
        				
                            
                				<a href="/tags/#内功" title="内功" rel="6">
                                    内功
                                </a>
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
                <hr>
                <h5>FRIENDS</h5>
                <ul class="list-inline">
                    
                        <li><a href="http://sindrilin.com/">sindri的小巢</a></li>
                    
                        <li><a href="https://onevcat.com/#blog">onevcat</a></li>
                    
                        <li><a href="https://objccn.io/issues/">ObjC 中国</a></li>
                    
                        <li><a href="http://draveness.me/">Draveness</a></li>
                    
                        <li><a href="http://blog.sunnyxx.com/">我就叫Sunny怎么了</a></li>
                    
                        <li><a href="https://github.com/nixzhu/dev-blog">nixzhu</a></li>
                    
                        <li><a href="http://draveness.me/">Draveness</a></li>
                    
                </ul>
                
            </div>
        </div>
    </div>
</article>









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    
                    <li>
                        <a target="_blank" href="http://weibo.com/iOSSurf">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-weibo fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/yunisSong">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 三十一 2017
                    <br>
                    Theme by <a href="https://yunissong.github.io/">三十一</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="100px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true" >
                    </iframe>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>

<!-- Service Worker -->

<script type="text/javascript">
    if(navigator.serviceWorker){
        // For security reasons, a service worker can only control the pages that are in the same directory level or below it. That's why we put sw.js at ROOT level.
        navigator.serviceWorker
            .register('/sw.js')
            .then((registration) => {console.log('Service Worker Registered. ', registration)})
            .catch((error) => {console.log('ServiceWorker registration failed: ', error)})
    }
</script>



<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-96835471-1';
    var _gaDomain = 'auto';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->




<!-- Side Catalog -->

<script type="text/javascript">
    function generateCatalog (selector) {
        var P = $('div.post-container'),a,n,t,l,i,c;
        a = P.find('h1,h2,h3,h4,h5,h6');
        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#"+$(this).prop('id');
            t = $(this).text();
            c = $('<a href="'+i+'" rel="nofollow">'+t+'</a>');
            l = $('<li class="'+n+'_nav"></li>').append(c);
            $(selector).append(l);
        });
        return true;    
    }

    generateCatalog(".catalog-body");

    // toggle side catalog
    $(".catalog-toggle").click((function(e){
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }))

    /*
     * Doc: https://github.com/davist11/jQuery-One-Page-Nav
     * Fork by Hux to support padding
     */
    async("/js/jquery.nav.js", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 0,
            scrollThreshold: .2,
            begin: null,
            end: null,
            scrollChange: null,
            padding: 80
        });
    });
</script>





<!-- Image to hack wechat -->
<img src="/img/icon_wechat.png" width="0" height="0" />
<!-- Migrate from head to bottom, no longer block render and still work -->

</body>

</html>
